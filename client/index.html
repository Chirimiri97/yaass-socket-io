<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />

    <!-- Vue 3 -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <!-- Socket IO Client -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.3/socket.io.min.js"></script>

    <title>Yaass Socket IO</title>
    <link rel="stylesheet" href="./style.css" />
</head>

<body>
    <h1 class="text-center">Let's Chat!!!</h1>

    <div id="app">
        <main class="container w-50">
            <!-- USER NAME INPUT. -->
            <div class="col mb-2">
                <input type="text" class="form-control" placeholder="What's your name ?" v-model="user_name" />
            </div>

            <!-- MESSAGES LIST. -->
            <div class="messages border rounded rounded-1 mb-2 shadow p-5 overflow-auto">
                <div class="mb-1" v-for="message in messages">
                    <strong>{{ message.user_name }}</strong> : {{
                    message.message }}
                </div>
            </div>

            <form>
                <!-- SEND MESSAGE -->
                <div class="mb-2 row">
                    <div class="col-6"></div>
                    <div class="col-4">
                        <input type="text" class="form-control border border-1 border-secondary shadow-sm"
                            v-model="message" placeholder="Enter your message..." />
                    </div>

                    <div class="col-2 d-grid gap-2">
                        <button class="btn btn-dark" :disabled="disableSendButton" @click.prevent="sendMessage">
                            Send
                        </button>
                    </div>
                </div>

                <!-- JOIN ROOM -->
                <div class="mb-2 row">
                    <div class="col"></div>
                    <div class="col-4">
                        <input type="text" class="form-control border border-1 border-secondary shadow-sm"
                            v-model="room_name" placeholder="Join Room..." />
                    </div>

                    <div class="col-2 d-grid gap-2">
                        <button class="btn btn-warning" @click.prevent="joinRoom">Join</button>
                    </div>
                </div>
            </form>
        </main>
    </div>

    <script src="./app.js" type="module"></script>
</body>

</html>